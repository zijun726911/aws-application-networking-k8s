version: 1
frontend:
  phases:
    preBuild:
      commands:
        - python3 -m pip install --upgrade pip
        - python3 -m pip install mkdocs-material mike
    build:
      commands:
        - export PATH=$PATH:$(python3 -m site --user-base)/bin
#        - find / -name mike -type f
        - python3 -m mike --version  # For debugging to confirm installation
        - PATH=$PATH:$(python3 -m site --user-base)/bin; mike deploy 1.0.5 latest
  artifacts:
    baseDirectory: site
    files:
      - '**/*'
  cache:
    paths: []