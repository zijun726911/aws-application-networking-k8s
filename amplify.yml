version: 1
frontend:
  phases:
    preBuild:
      commands:
        - python3 -m pip install --upgrade pip
        - python3 -m pip install mkdocs-material mike
    build:
      commands:
#        - MIKE_PATH=/root/.pyenv/versions/3.10.13/bin/mike  # Set the path to mike
#        - echo "Using mike at $MIKE_PATH"  # For debugging, confirm the path
#        - $MIKE_PATH --version  # For debugging to confirm installation
        - pyenv mike deploy 1.0.5 latest --update-aliases  # Deploy using mike
  artifacts:
    baseDirectory: site
    files:
      - '**/*'
  cache:
    paths: []